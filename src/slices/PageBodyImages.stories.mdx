import { Meta, Story, Canvas, Props } from '@storybook/addon-docs/blocks'
import faker from 'faker'
import { buildImgixFluid } from 'gatsby-plugin-imgix'

import * as Storybook from '../components/Storybook'

import PageBodyImages from './PageBodyImages'

export const images = [
  buildImgixFluid({
    url: 'https://images.unsplash.com/photo-1500961585473-b554ed1bcff5',
    sourceWidth: 4 / 3,
    sourceHeight: 1,
  }),
  buildImgixFluid({
    url: 'https://images.unsplash.com/photo-1519662978799-2f05096d3636',
    sourceWidth: 4 / 3,
    sourceHeight: 1,
  })
]

<Meta title="Pages/Images" component={PageBodyImages} />

##### Page

# Images

Set of images or photos displayed as a group with optional captions. On mobile,
images are positioned in a single column and set to the full width of the
device. On desktop, images are positioned in a single row and set to the full
width of the device.

#### Repeatable fields

Each item represents an image and optional caption.

<Storybook.SliceFieldsTable
  customTypeId="page"
  sliceZoneId="body"
  sliceId="images"
  fieldset="repeat"
  overrides={{ image: { description: 'Image to display' } }}
/>

### With One Image

This slice can support multiple images.

<Canvas withSource="none">
  <Story name="With One Image">
    <PageBodyImages nextSharesBg={false}>
      <PageBodyImages.Image
        imageFluid={images[0]}
        captionHTML={`<p>${faker.lorem.words(20)}</p>`}
      />
    </PageBodyImages>
  </Story>
</Canvas>

### With Two Images

Images are spaced evenly as shown below.

<Canvas withSource="none">
  <Story name="With Two Images">
    <PageBodyImages nextSharesBg={false}>
      <PageBodyImages.Image
        imageFluid={images[0]}
      />
      <PageBodyImages.Image
        imageFluid={images[1]}
      />
    </PageBodyImages>
  </Story>
</Canvas>
